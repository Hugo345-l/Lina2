# Roadmap Detalhado - Projeto Lina
*Assistente Pessoal Multi-Agente*

## üìã Vis√£o Geral

**Or√ßamento**: $50/m√™s  
**Tecnologias Core**: LangGraph + LangChain + OpenRouter (Gemini/Claude/GPT) + SQLite
**Modelo LLM Padr√£o (via OpenRouter)**: `google/gemini-2.5-flash-preview-05-20` (Temperatura: 0.8)

---

## üèóÔ∏è **FASE 1: Funda√ß√£o e Interface**

### **Tarefa 1.1: Setup do Ambiente de Desenvolvimento**

#### **Checklist T√©cnico**
- [x] Criar ambiente virtual Python 3.12
- [x] Instalar depend√™ncias base (via requirements.txt)
- [x] Criar arquivo .gitignore para proteger segredos e ignorar arquivos desnecess√°rios
- [x] Configurar OpenRouter
  - [x] Criar conta em https://openrouter.ai/
  - [x] Gerar API key no dashboard
  - [x] Configurar vari√°vel de ambiente OPENROUTER_API_KEY
- [x] Teste hello-world LangGraph com OpenRouter usando `google/gemini-2.5-flash-preview-05-20`

#### **Entreg√°veis**
- [x] Ambiente funcional com todas depend√™ncias
- [x] Arquivo .gitignore configurado
- [x] OpenRouter configurado e testado
- [x] Teste b√°sico LangGraph executando

---

### **Tarefa 1.2: Implementa√ß√£o da Interface de Chat (HTML/CSS/JavaScript)**

**Status (16/06/2025): ‚úÖ CONCLU√çDO.**

Interface web moderna desenvolvida com HTML, CSS e JavaScript puro, inspirada no design do Toqan.

#### **Checklist T√©cnico**
- [x] Criar estrutura de arquivos `lina-frontend/`
  - [x] `index.html` (p√°gina principal)
  - [x] `css/main.css` (estilos gerais e layout)
  - [x] `css/chat.css` (estilos espec√≠ficos do chat)
  - [x] `css/debug-panel.css` (estilos do painel de debug)
  - [x] `js/app.js` (aplica√ß√£o principal e orquestra√ß√£o)
  - [x] `js/chat.js` (l√≥gica da interface de chat)
  - [x] `js/debug-panel.js` (l√≥gica do painel de debug)
  - [x] `js/api.js` (comunica√ß√£o com backend LangServe)
  - [x] `FRONTEND_MAP.md` (documenta√ß√£o da estrutura)
- [x] Desenvolver `index.html` com estrutura b√°sica de chat e painel de debug
- [x] Implementar estilos CSS para o layout e componentes
- [x] Desenvolver `app.js` para orquestrar a aplica√ß√£o
- [x] Desenvolver `chat.js` para gerenciar a interface de chat
- [x] Desenvolver `debug-panel.js` para exibir m√©tricas de execu√ß√£o
- [x] Desenvolver `api.js` para comunica√ß√£o com o backend LangServe
- [x] Resolver problemas de CORS e parsing de resposta do LangServe

#### **Entreg√°veis**
- [x] Interface web completa e funcional (HTML/CSS/JS), conectada ao backend LangServe
- [x] Chat operacional com hist√≥rico de mensagens
- [x] Painel de debug transparente mostrando m√©tricas de execu√ß√£o
- [x] Documenta√ß√£o completa da estrutura frontend

#### **Crit√©rios de Sucesso**
- [x] Interface carrega sem erros e com layout esperado
- [x] Usu√°rio consegue enviar mensagens e receber respostas da Lina
- [x] Painel de debug exibe corretamente as m√©tricas do backend
- [x] Conex√£o frontend-backend est√°vel e funcional

#### **Resolu√ß√£o de Problemas (16/06/2025):**
- ‚úÖ **CORS resolvido**: Configura√ß√£o adequada no backend FastAPI
- ‚úÖ **Parsing LangServe**: Corre√ß√£o na estrutura de resposta para lidar com encapsulamento do LangServe
- ‚úÖ **Design System**: Interface moderna inspirada no Tailwind UI com design consistente
- ‚úÖ **Comunica√ß√£o Backend**: API client robusto com logs detalhados e tratamento de erros
- ‚úÖ **Debug Panel**: M√©tricas de custo, tokens, tempo e modelo exibidas em tempo real

---

### **Tarefa 1.3: Backend LangServe B√°sico**

**Status (16/06/2025): ‚úÖ CONCLU√çDO.**

#### **Checklist T√©cnico**
- [x] Estrutura b√°sica do projeto (`lina-backend/`)
- [x] Servidor LangServe b√°sico (`lina-backend/app.py`)
- [x] Endpoints essenciais
  - [x] `/chat/invoke` - Chamadas s√≠ncronas
  - [x] `/health` - Health check
  - [x] `/test` - Endpoint de teste
- [x] Integra√ß√£o LangSmith para observabilidade
- [x] Configura√ß√£o CORS para frontend
- [x] Respostas estruturadas com debug info (custo, tokens, dura√ß√£o)
- [x] Sistema de fallback de modelos

#### **Entreg√°veis**
- [x] Servidor LangServe funcional
- [x] Endpoints b√°sicos operacionais
- [x] Logging e observabilidade via LangSmith
- [x] Resposta estruturada com m√©tricas detalhadas

#### **Funcionalidades Implementadas**
- [x] Personalidade base da Lina definida
- [x] Integra√ß√£o com OpenRouter/Gemini
- [x] C√°lculo autom√°tico de custos
- [x] M√©tricas de performance em tempo real
- [x] Tratamento de erros robusto

---

### **Tarefa 1.4: Primeiro Agente "Lina-Front" B√°sico**

**Status: üü° PARCIALMENTE CONCLU√çDO** - Base implementada, ferramentas pendentes.

#### **Checklist T√©cnico**
- [x] Defini√ß√£o da personalidade base
- [x] Implementa√ß√£o do agente base com OpenRouter
- [x] Sistema de respostas estruturadas
- [x] Model fallback autom√°tico
- [ ] Implementar ferramentas b√°sicas:
  - [ ] Busca web (via MCP WebSearch)
  - [ ] Calculadora
  - [ ] Informa√ß√µes de tempo/data
- [ ] Tratamento de erros avan√ßado
- [ ] Testes unit√°rios para funcionalidades

#### **Funcionalidades Core**
- [x] Conversa√ß√£o natural
- [x] Personalidade consistente
- [ ] Execu√ß√£o de pesquisas web
- [ ] C√°lculos simples
- [ ] Informa√ß√µes de tempo/data

#### **Entreg√°veis**
- [x] Agente Lina-Front funcional para conversa√ß√£o b√°sica
- [x] Personalidade consistente
- [ ] Ferramentas b√°sicas operacionais
- [ ] Testes automatizados

---

## üèóÔ∏è **FASE 2: Arquitetura Multi-Inst√¢ncia**

### **Tarefa 2.1: Design da Comunica√ß√£o Inter-Inst√¢ncias**

#### **Checklist T√©cnico**
- [ ] Defini√ß√£o de message schemas
- [ ] Protocolos de handoff
- [ ] Message routing via LangGraph
- [ ] Sistema de acknowledgment
- [ ] Error handling entre inst√¢ncias

#### **Entreg√°veis**
- [ ] Documenta√ß√£o de protocolos
- [ ] Message schemas definidos
- [ ] Routing b√°sico implementado

---

### **Tarefa 2.2: Implementa√ß√£o Lina-Memory Base**

#### **Checklist T√©cnico**
- [ ] Schema do banco SQLite
- [ ] Sistema de logging autom√°tico
- [ ] Tracking de costs/performance
- [ ] APIs para consulta hist√≥rica
- [ ] Sistema de sumariza√ß√£o

#### **Entreg√°veis**
- [ ] Inst√¢ncia Memory funcional
- [ ] Banco de dados estruturado
- [ ] APIs de consulta operacionais

---

### **Tarefa 2.3: Implementa√ß√£o Lina-Tools Base**

#### **Checklist T√©cnico**
- [ ] Framework para MCPs
- [ ] MCP para file system
- [ ] MCP para web search
- [ ] Task execution tracking
- [ ] Sistema de monitoring b√°sico

#### **Entreg√°veis**
- [ ] Inst√¢ncia Tools funcional
- [ ] Framework MCP implementado
- [ ] MCPs b√°sicos operacionais

---

### **Tarefa 2.4: Integra√ß√£o das Tr√™s Inst√¢ncias**

#### **Checklist T√©cnico**
- [ ] LangGraph workflow completo
- [ ] Handoffs inteligentes
- [ ] Testing end-to-end
- [ ] Performance optimization
- [ ] Error recovery

#### **Entreg√°veis**
- [ ] Sistema integrado funcional
- [ ] Tr√™s inst√¢ncias comunicando
- [ ] Fluxos end-to-end validados

---

## üîå **FASE 3: MCPs e Funcionalidades Core**

### **Tarefa 3.1: MCP Google Workspace**

#### **Checklist T√©cnico**
- [ ] OAuth2 setup
- [ ] Gmail Integration (ler/enviar emails)
- [ ] Calendar Integration (eventos/agendamento)
- [ ] Drive Integration (arquivos/organiza√ß√£o)

#### **Entreg√°veis**
- [ ] MCP Google Workspace completo
- [ ] Autentica√ß√£o OAuth2 funcional
- [ ] Todas funcionalidades testadas

---

### **Tarefa 3.2: MCP WhatsApp**

#### **Checklist T√©cnico**
- [ ] WhatsApp Web API setup
- [ ] Autentica√ß√£o via QR code
- [ ] Sending/Receiving Messages
- [ ] Contact management

#### **Entreg√°veis**
- [ ] MCP WhatsApp funcional
- [ ] Comunica√ß√£o bidirecional
- [ ] Multi-channel experience

---

### **Tarefa 3.3: MCP Sistema Operacional**

#### **Checklist T√©cnico**
- [ ] File Operations
- [ ] Application Launching
- [ ] System Monitoring
- [ ] Safety Measures

#### **Entreg√°veis**
- [ ] MCP OS funcional e seguro
- [ ] Opera√ß√µes b√°sicas de sistema
- [ ] Safety measures implementadas

---

### **Tarefa 3.4: Testing e Refinamento**

#### **Checklist de Testes**
- [ ] Unit Tests para cada MCP
- [ ] Integration Tests entre MCPs
- [ ] End-to-End Tests de workflows
- [ ] Performance Tests
- [ ] Security Tests

#### **Entreg√°veis**
- [ ] Suite de testes completa
- [ ] MCPs refinados e otimizados
- [ ] Documenta√ß√£o atualizada

---

## üß† **FASE 4: Intelig√™ncia e Proatividade**

### **Tarefa 4.1: Sistema de Monitoramento Proativo**

#### **Funcionalidades**
- [ ] Email Monitoring
- [ ] Calendar Monitoring
- [ ] System Monitoring
- [ ] Notifications Proativas

#### **Entreg√°veis**
- [ ] Sistema de monitoring ativo
- [ ] Notifications proativas funcionais
- [ ] Configura√ß√µes customiz√°veis

---

### **Tarefa 4.2: Intelig√™ncia Contextual**

#### **Funcionalidades**
- [ ] Context Tracking
- [ ] Pattern Recognition
- [ ] Adaptive Suggestions

#### **Entreg√°veis**
- [ ] Context awareness funcional
- [ ] Suggestions relevantes
- [ ] Adaptive behavior

---

### **Tarefa 4.3: Sistema de Learning e Melhoria**

#### **Funcionalidades**
- [ ] Performance Analytics
- [ ] Pattern Analysis
- [ ] Auto-optimization

#### **Entreg√°veis**
- [ ] Learning engine funcional
- [ ] Auto-optimization ativo
- [ ] Performance metrics dashboard

---

### **Tarefa 4.4: Refinamento da Personalidade**

#### **Funcionalidades**
- [ ] Personality Consistency
- [ ] Contextual Adaptation
- [ ] Signature Behaviors

#### **Entreg√°veis**
- [ ] Personalidade consistente
- [ ] Behavioral guidelines documented
- [ ] User feedback integration

---

## ‚ú® **FASE 5: Polish e Optimization**

### **Tarefa 5.1: Optimization de Performance**
- [ ] Performance Profiling
- [ ] Caching Strategies
- [ ] Database Optimization
- [ ] LLM Call Optimization

### **Tarefa 5.2: Security e Safety Hardening**
- [ ] Input Validation
- [ ] Access Controls
- [ ] Data Protection
- [ ] Safety Measures

### **Tarefa 5.3: Documentation e Deployment Preparation**
- [ ] User Manual
- [ ] Technical Documentation
- [ ] Deployment Guide

### **Tarefa 5.4: Final Testing e Validation**
- [ ] End-to-End Testing
- [ ] Performance Validation
- [ ] User Acceptance Testing

---

## üìä **M√©tricas de Sucesso**

### **Performance T√©cnica**
- ‚è±Ô∏è Response time m√©dio < 3 segundos
- üìà Uptime > 99%
- ‚úÖ Accuracy rate > 95%
- üíæ Memory usage < 2GB RAM

### **Cost Efficiency**
- üí∞ Operating cost < $50/m√™s
- üí∏ Cost per interaction < $0.10
- üìâ 50% cost reduction target em 6 meses

### **User Experience**
- ‚≠ê User satisfaction > 4.5/5
- ‚úÖ Task completion rate > 90%
- üéØ Proactive notification relevance > 80%
- üîÑ User retention > 85% ap√≥s 1 m√™s

### **Capabilities**
- üîå 5+ MCPs integrados
- üõ†Ô∏è 20+ tipos de tarefas
- üì± 3+ plataformas (multi-channel)
- üß† Learning demonstr√°vel

---

## üéØ **Estado Atual do Projeto (16/06/2025)**

### **‚úÖ Conclu√≠do**
- Ambiente de desenvolvimento configurado
- Interface web moderna HTML/CSS/JS funcional
- Backend LangServe operacional
- Integra√ß√£o frontend-backend est√°vel
- Debug panel com m√©tricas em tempo real
- Personalidade base da Lina implementada
- Documenta√ß√£o da estrutura frontend

### **üü° Em Progresso**
- Ferramentas b√°sicas (busca web, calculadora, tempo/data)
- Testes unit√°rios e de integra√ß√£o

### **‚è≥ Pr√≥ximos Passos**
1. Implementar ferramentas b√°sicas na Tarefa 1.4
2. Come√ßar arquitetura multi-inst√¢ncia (Fase 2)
3. Implementar sistema de persist√™ncia SQLite
4. Desenvolver primeiros MCPs

---

*Este roadmap √© atualizado conforme o projeto evolui. Cada tarefa inclui retrospective e lessons learned para melhorar as pr√≥ximas fases.*
